{"ast":null,"code":"var _jsxFileName = \"/Users/prakritisharma/Downloads/Sem2/UML/Assignments/PrakritiSharma_CSP586_Assignment_Bonus/nike-website/client/src/pages/MenPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProductCard from '../components/ProductCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MenPage = () => {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [selectedCategoryId, setSelectedCategoryId] = useState(null);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [userId, setUserId] = useState('some-user-id'); // Replace with actual user ID logic\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        const res = await axios.get('http://localhost:5001/api/categories/men');\n        setCategories(res.data);\n        if (res.data.length > 0) {\n          setSelectedCategoryId(res.data[0]._id);\n        }\n      } catch (err) {\n        setError('Failed to load categories');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchCategories();\n  }, []);\n  const handleCategoryClick = categoryId => {\n    setSelectedCategoryId(categoryId);\n  };\n  useEffect(() => {\n    const fetchProducts = async () => {\n      if (selectedCategoryId) {\n        try {\n          const res = await axios.get(`http://localhost:5001/api/products?category=${selectedCategoryId}&limit=6`);\n          setProducts(res.data);\n        } catch (err) {\n          setError('Failed to load products');\n          console.error(err);\n        }\n      }\n    };\n    fetchProducts();\n  }, [selectedCategoryId]);\n  const addToCart = async productId => {\n    if (!userId) {\n      alert('Please log in to add items to your cart.');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:5001/api/cart/add', {\n        userId: userId,\n        productId: productId\n      });\n      console.log(response.data);\n      alert('Product added to cart');\n    } catch (err) {\n      console.error(err);\n      alert('Failed to add product to cart');\n    }\n  };\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '20%',\n        borderRight: '1px solid #ccc',\n        paddingRight: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Categories\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          listStyle: 'none',\n          padding: 0\n        },\n        children: categories.map(category => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => handleCategoryClick(category._id),\n          style: {\n            marginBottom: '10px',\n            cursor: 'pointer',\n            fontWeight: selectedCategoryId === category._id ? 'bold' : 'normal'\n          },\n          children: category.name\n        }, category._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '80%',\n        paddingLeft: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Men's Products\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-grid\",\n        style: {\n          display: 'grid',\n          gridTemplateColumns: 'repeat(3, 1fr)',\n          gridGap: '20px'\n        },\n        children: products.length > 0 ? products.map(product => /*#__PURE__*/_jsxDEV(ProductCard, {\n          product: product,\n          userId: userId // Pass userId here\n          ,\n          addToCart: addToCart // Pass addToCart function here\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 29\n        }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No products available for this category.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 9\n  }, this);\n};\n_s(MenPage, \"SM2gMkfa7PD/IKnQetG3QhE14ng=\");\n_c = MenPage;\nexport default MenPage;\nvar _c;\n$RefreshReg$(_c, \"MenPage\");","map":{"version":3,"names":["React","useState","useEffect","axios","ProductCard","jsxDEV","_jsxDEV","MenPage","_s","categories","setCategories","selectedCategoryId","setSelectedCategoryId","products","setProducts","loading","setLoading","error","setError","userId","setUserId","fetchCategories","res","get","data","length","_id","err","console","handleCategoryClick","categoryId","fetchProducts","addToCart","productId","alert","response","post","log","children","fileName","_jsxFileName","lineNumber","columnNumber","style","display","padding","width","borderRight","paddingRight","listStyle","map","category","onClick","marginBottom","cursor","fontWeight","name","paddingLeft","className","gridTemplateColumns","gridGap","product","_c","$RefreshReg$"],"sources":["/Users/prakritisharma/Downloads/Sem2/UML/Assignments/PrakritiSharma_CSP586_Assignment_Bonus/nike-website/client/src/pages/MenPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport ProductCard from '../components/ProductCard';\n\nconst MenPage = () => {\n    const [categories, setCategories] = useState([]);\n    const [selectedCategoryId, setSelectedCategoryId] = useState(null);\n    const [products, setProducts] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState('');\n    const [userId, setUserId] = useState('some-user-id'); // Replace with actual user ID logic\n\n    useEffect(() => {\n        const fetchCategories = async () => {\n            try {\n                const res = await axios.get('http://localhost:5001/api/categories/men');\n                setCategories(res.data);\n                if (res.data.length > 0) {\n                    setSelectedCategoryId(res.data[0]._id);\n                }\n            } catch (err) {\n                setError('Failed to load categories');\n                console.error(err);\n            } finally {\n                setLoading(false);\n            }\n        };\n        fetchCategories();\n    }, []);\n\n    const handleCategoryClick = (categoryId) => {\n        setSelectedCategoryId(categoryId);\n    };\n\n    useEffect(() => {\n        const fetchProducts = async () => {\n            if (selectedCategoryId) {\n                try {\n                    const res = await axios.get(\n                        `http://localhost:5001/api/products?category=${selectedCategoryId}&limit=6`\n                    );\n                    setProducts(res.data);\n                } catch (err) {\n                    setError('Failed to load products');\n                    console.error(err);\n                }\n            }\n        };\n        fetchProducts();\n    }, [selectedCategoryId]);\n\n    const addToCart = async (productId) => {\n        if (!userId) {\n            alert('Please log in to add items to your cart.');\n            return;\n        }\n        try {\n            const response = await axios.post('http://localhost:5001/api/cart/add', {\n                userId: userId,\n                productId: productId,\n            });\n            console.log(response.data);\n            alert('Product added to cart');\n        } catch (err) {\n            console.error(err);\n            alert('Failed to add product to cart');\n        }\n    };\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>{error}</div>;\n\n    return (\n        <div style={{ display: 'flex', padding: '20px' }}>\n            <div style={{ width: '20%', borderRight: '1px solid #ccc', paddingRight: '20px' }}>\n                <h2>Categories</h2>\n                <ul style={{ listStyle: 'none', padding: 0 }}>\n                    {categories.map(category => (\n                        <li\n                            key={category._id}\n                            onClick={() => handleCategoryClick(category._id)}\n                            style={{\n                                marginBottom: '10px',\n                                cursor: 'pointer',\n                                fontWeight: selectedCategoryId === category._id ? 'bold' : 'normal'\n                            }}\n                        >\n                            {category.name}\n                        </li>\n                    ))}\n                </ul>\n            </div>\n\n            <div style={{ width: '80%', paddingLeft: '20px' }}>\n                <h1>Men's Products</h1>\n                <div\n                    className=\"product-grid\"\n                    style={{\n                        display: 'grid',\n                        gridTemplateColumns: 'repeat(3, 1fr)',\n                        gridGap: '20px'\n                    }}\n                >\n                    {products.length > 0 ? (\n                        products.map(product => (\n                            <ProductCard\n                                key={product._id}\n                                product={product}\n                                userId={userId} // Pass userId here\n                                addToCart={addToCart} // Pass addToCart function here\n                            />\n                        ))\n                    ) : (\n                        <p>No products available for this category.</p>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default MenPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,2BAA2B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACU,kBAAkB,EAAEC,qBAAqB,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAClE,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACkB,MAAM,EAAEC,SAAS,CAAC,GAAGnB,QAAQ,CAAC,cAAc,CAAC,CAAC,CAAC;;EAEtDC,SAAS,CAAC,MAAM;IACZ,MAAMmB,eAAe,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACA,MAAMC,GAAG,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,0CAA0C,CAAC;QACvEb,aAAa,CAACY,GAAG,CAACE,IAAI,CAAC;QACvB,IAAIF,GAAG,CAACE,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;UACrBb,qBAAqB,CAACU,GAAG,CAACE,IAAI,CAAC,CAAC,CAAC,CAACE,GAAG,CAAC;QAC1C;MACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;QACVT,QAAQ,CAAC,2BAA2B,CAAC;QACrCU,OAAO,CAACX,KAAK,CAACU,GAAG,CAAC;MACtB,CAAC,SAAS;QACNX,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IACDK,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMQ,mBAAmB,GAAIC,UAAU,IAAK;IACxClB,qBAAqB,CAACkB,UAAU,CAAC;EACrC,CAAC;EAED5B,SAAS,CAAC,MAAM;IACZ,MAAM6B,aAAa,GAAG,MAAAA,CAAA,KAAY;MAC9B,IAAIpB,kBAAkB,EAAE;QACpB,IAAI;UACA,MAAMW,GAAG,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CACvB,+CAA+CZ,kBAAkB,UACrE,CAAC;UACDG,WAAW,CAACQ,GAAG,CAACE,IAAI,CAAC;QACzB,CAAC,CAAC,OAAOG,GAAG,EAAE;UACVT,QAAQ,CAAC,yBAAyB,CAAC;UACnCU,OAAO,CAACX,KAAK,CAACU,GAAG,CAAC;QACtB;MACJ;IACJ,CAAC;IACDI,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,CAACpB,kBAAkB,CAAC,CAAC;EAExB,MAAMqB,SAAS,GAAG,MAAOC,SAAS,IAAK;IACnC,IAAI,CAACd,MAAM,EAAE;MACTe,KAAK,CAAC,0CAA0C,CAAC;MACjD;IACJ;IACA,IAAI;MACA,MAAMC,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,IAAI,CAAC,oCAAoC,EAAE;QACpEjB,MAAM,EAAEA,MAAM;QACdc,SAAS,EAAEA;MACf,CAAC,CAAC;MACFL,OAAO,CAACS,GAAG,CAACF,QAAQ,CAACX,IAAI,CAAC;MAC1BU,KAAK,CAAC,uBAAuB,CAAC;IAClC,CAAC,CAAC,OAAOP,GAAG,EAAE;MACVC,OAAO,CAACX,KAAK,CAACU,GAAG,CAAC;MAClBO,KAAK,CAAC,+BAA+B,CAAC;IAC1C;EACJ,CAAC;EAED,IAAInB,OAAO,EAAE,oBAAOT,OAAA;IAAAgC,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzC,IAAIzB,KAAK,EAAE,oBAAOX,OAAA;IAAAgC,QAAA,EAAMrB;EAAK;IAAAsB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAEpC,oBACIpC,OAAA;IAAKqC,KAAK,EAAE;MAAEC,OAAO,EAAE,MAAM;MAAEC,OAAO,EAAE;IAAO,CAAE;IAAAP,QAAA,gBAC7ChC,OAAA;MAAKqC,KAAK,EAAE;QAAEG,KAAK,EAAE,KAAK;QAAEC,WAAW,EAAE,gBAAgB;QAAEC,YAAY,EAAE;MAAO,CAAE;MAAAV,QAAA,gBAC9EhC,OAAA;QAAAgC,QAAA,EAAI;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACnBpC,OAAA;QAAIqC,KAAK,EAAE;UAAEM,SAAS,EAAE,MAAM;UAAEJ,OAAO,EAAE;QAAE,CAAE;QAAAP,QAAA,EACxC7B,UAAU,CAACyC,GAAG,CAACC,QAAQ,iBACpB7C,OAAA;UAEI8C,OAAO,EAAEA,CAAA,KAAMvB,mBAAmB,CAACsB,QAAQ,CAACzB,GAAG,CAAE;UACjDiB,KAAK,EAAE;YACHU,YAAY,EAAE,MAAM;YACpBC,MAAM,EAAE,SAAS;YACjBC,UAAU,EAAE5C,kBAAkB,KAAKwC,QAAQ,CAACzB,GAAG,GAAG,MAAM,GAAG;UAC/D,CAAE;UAAAY,QAAA,EAEDa,QAAQ,CAACK;QAAI,GARTL,QAAQ,CAACzB,GAAG;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OASjB,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,eAENpC,OAAA;MAAKqC,KAAK,EAAE;QAAEG,KAAK,EAAE,KAAK;QAAEW,WAAW,EAAE;MAAO,CAAE;MAAAnB,QAAA,gBAC9ChC,OAAA;QAAAgC,QAAA,EAAI;MAAc;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvBpC,OAAA;QACIoD,SAAS,EAAC,cAAc;QACxBf,KAAK,EAAE;UACHC,OAAO,EAAE,MAAM;UACfe,mBAAmB,EAAE,gBAAgB;UACrCC,OAAO,EAAE;QACb,CAAE;QAAAtB,QAAA,EAEDzB,QAAQ,CAACY,MAAM,GAAG,CAAC,GAChBZ,QAAQ,CAACqC,GAAG,CAACW,OAAO,iBAChBvD,OAAA,CAACF,WAAW;UAERyD,OAAO,EAAEA,OAAQ;UACjB1C,MAAM,EAAEA,MAAO,CAAC;UAAA;UAChBa,SAAS,EAAEA,SAAU,CAAC;QAAA,GAHjB6B,OAAO,CAACnC,GAAG;UAAAa,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAInB,CACJ,CAAC,gBAEFpC,OAAA;UAAAgC,QAAA,EAAG;QAAwC;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MACjD;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAClC,EAAA,CAnHID,OAAO;AAAAuD,EAAA,GAAPvD,OAAO;AAqHb,eAAeA,OAAO;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}